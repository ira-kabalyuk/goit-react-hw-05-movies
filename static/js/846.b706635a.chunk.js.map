{"version":3,"file":"static/js/846.b706635a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/pages/Movies/Movies.module.scss?0325","components/pages/Movies/Movies.jsx","services/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__wsHWH\",\"button\":\"Movies_button__Z5RRs\",\"input\":\"Movies_input__Z5fMX\",\"list\":\"Movies_list__-2VFR\",\"link\":\"Movies_link__emPzP\",\"item\":\"Movies_item__5bFrS\"};","import React, {useState, useEffect} from \"react\";\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\n\nimport { requestMovies } from 'services/api';\nimport { STATUSES } from 'utils/constants';\n\nimport { Section } from 'components/Section';\nimport { Error } from 'components/Error';\nimport { Loader } from 'components/Loader';\nimport styles from './Movies.module.scss';\n\n\nconst Movies = () => {\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  \n  const [movies, setMovies] = useState(null);\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [error, setError] = useState(null); \n\n  const showMovies = status === STATUSES.success;\n  const showError = status === STATUSES.error;\n  const showLoader = status === STATUSES.pending;\n  const emptyMovies = showMovies && movies?.length === 0;\n\n  const fetchMoviesByQuery = async (query) => {\n    try {\n      setStatus(STATUSES.pending)\n      const newMovies = await requestMovies(query);\n       console.log(newMovies, 'movies');\n      setMovies(newMovies.results)\n      setStatus(STATUSES.success); \n    } catch (error) {\n      setError(error.message);\n      setStatus(STATUSES.error);\n    }\n  }\n\n  useEffect(() => {\n    if (query === null) {\n      return;\n    }\n    fetchMoviesByQuery(query);\n  }, [query]);\n\n    const handleSubmit = (event) => {\n      event.preventDefault();\n      const searchValue = event.currentTarget.elements.search.value;\n      setSearchParams({ query: searchValue }); \n      setMovies([]);\n  };\n\n  return (\n    <Section>\n      <div className={styles.movies}>\n         <form className={styles.form} onSubmit={handleSubmit} action=\"\">\n            <button className={styles.button} type=\"submit\">&#128269;</button>\n            <input\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search movies\"\n              name=\"search\"\n              className={styles.input}\n              defaultValue={query}\n            />\n        </form>\n        {showError && <Error>Oops, some error occurred... {error}</Error>}\n        {emptyMovies && <Error>Sorry, no movies found &#129335;</Error>}\n        {showLoader && <Loader />}\n        {showMovies && movies && (\n          <ul className={styles.list}>\n            {movies?.map((movie, index) =>\n              <li key={index} className={styles.item}>\n                <Link state={{from: location}} to={`/movies/${movie.id}`} className={styles.link}>{movie.title}</Link>\n              </li>\n            )}\n          </ul>\n        )}\n      </div>\n    </Section>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\n\nexport const requestData = async (url) => {\n  try {\n    const { data } = await axios.get(url, {\n      headers: {\n        'Authorization': `Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwNzczZmVmMDk2MTUwMjUwYWQzYmI0YTJiYTg3YWE3YiIsInN1YiI6IjYyZDcwYWFhZTE5NGIwMDA1NmI1YjdkMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0jNox1rTYOYjOVBcKh0Pb5udXbOSEAy9qpzL_pb_Jfc`,\n        'accept': 'application/json'\n      }\n    });\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\n\nexport const requestTrending = async () => {\n  const TRENDING_URL = `https://api.themoviedb.org/3/trending/all/day?language=en-US`;  \n\n  return await requestData(TRENDING_URL);\n};\n\nexport const requestMovies = async (searchTerm) => {\n  const MOVIES_URL = `https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=${searchTerm}`; \n\n  return await requestData(MOVIES_URL);\n};\n\nexport const requestDetails = async (detailsId) => {\n  const DETAILS_URL = `https://api.themoviedb.org/3/movie/${detailsId}?language=en-US`; \n\n  return await requestData(DETAILS_URL);\n};\n\nexport const requestCasts = async (detailsId) => {\n  const CASTS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/credits?language=en-US`; \n\n  return await requestData(CASTS_URL);\n};\n\nexport const requestReviews = async (detailsId) => {\n  const REVIEWS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/reviews?language=en-US&page=1`; \n\n  return await requestData(REVIEWS_URL);\n};\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n}\n\nexport const CONSTANTS = {\n  defaultImg: 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700',\n}"],"names":["location","useLocation","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","query","get","_useState","useState","_useState2","movies","setMovies","_useState3","STATUSES","_useState4","status","setStatus","_useState5","_useState6","error","setError","showMovies","showError","showLoader","emptyMovies","length","fetchMoviesByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","newMovies","_context","prev","next","requestMovies","sent","console","log","results","t0","message","stop","_x","apply","arguments","useEffect","_jsx","Section","children","_jsxs","className","styles","onSubmit","event","preventDefault","searchValue","currentTarget","elements","search","value","action","type","autoComplete","autoFocus","placeholder","name","defaultValue","Error","Loader","map","movie","index","Link","state","from","to","concat","id","title","requestData","url","_yield$axios$get","data","axios","headers","abrupt","requestTrending","_ref2","_callee2","_context2","_ref3","_callee3","searchTerm","MOVIES_URL","_context3","_x2","requestDetails","_ref4","_callee4","detailsId","DETAILS_URL","_context4","_x3","requestCasts","_ref5","_callee5","CASTS_URL","_context5","_x4","requestReviews","_ref6","_callee6","REVIEWS_URL","_context6","_x5","idle","pending","success","CONSTANTS","defaultImg"],"sourceRoot":""}