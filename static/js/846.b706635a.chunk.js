"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[846],{846:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(861),a=t(439),u=t(757),s=t.n(u),c=t(791),i=t(689),o=t(87),l=t(390),p=t(585),f=t(761),d=t(385),m=t(951),v={form:"Movies_form__wsHWH",button:"Movies_button__Z5RRs",input:"Movies_input__Z5fMX",list:"Movies_list__-2VFR",link:"Movies_link__emPzP",item:"Movies_item__5bFrS"},h=t(184),g=function(){var e=(0,i.TH)(),n=(0,o.lr)(),t=(0,a.Z)(n,2),u=t[0],g=t[1],x=u.get("query"),b=(0,c.useState)(null),w=(0,a.Z)(b,2),_=w[0],y=w[1],j=(0,c.useState)(p.n.idle),k=(0,a.Z)(j,2),Z=k[0],I=k[1],N=(0,c.useState)(null),S=(0,a.Z)(N,2),M=S[0],Y=S[1],U=Z===p.n.success,J=Z===p.n.error,z=Z===p.n.pending,T=U&&0===(null===_||void 0===_?void 0:_.length),W=function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(p.n.pending),e.next=4,(0,l.lc)(n);case 4:t=e.sent,console.log(t,"movies"),y(t.results),I(p.n.success),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),Y(e.t0.message),I(p.n.error);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){null!==x&&W(x)}),[x]);return(0,h.jsx)(f.$,{children:(0,h.jsxs)("div",{className:v.movies,children:[(0,h.jsxs)("form",{className:v.form,onSubmit:function(e){e.preventDefault();var n=e.currentTarget.elements.search.value;g({query:n}),y([])},action:"",children:[(0,h.jsx)("button",{className:v.button,type:"submit",children:"\ud83d\udd0d"}),(0,h.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"search",className:v.input,defaultValue:x})]}),J&&(0,h.jsxs)(d.j,{children:["Oops, some error occurred... ",M]}),T&&(0,h.jsx)(d.j,{children:"Sorry, no movies found \ud83e\udd37"}),z&&(0,h.jsx)(m.a,{}),U&&_&&(0,h.jsx)("ul",{className:v.list,children:null===_||void 0===_?void 0:_.map((function(n,t){return(0,h.jsx)("li",{className:v.item,children:(0,h.jsx)(o.rU,{state:{from:e},to:"/movies/".concat(n.id),className:v.link,children:n.title})},t)}))})]})})}},390:function(e,n,t){t.d(n,{$m:function(){return f},B8:function(){return i},GM:function(){return l},Ib:function(){return p},lc:function(){return o}});var r=t(861),a=t(757),u=t.n(a),s=t(294),c=function(){var e=(0,r.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(n,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwNzczZmVmMDk2MTUwMjUwYWQzYmI0YTJiYTg3YWE3YiIsInN1YiI6IjYyZDcwYWFhZTE5NGIwMDA1NmI1YjdkMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0jNox1rTYOYjOVBcKh0Pb5udXbOSEAy9qpzL_pb_Jfc",accept:"application/json"}});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/trending/all/day?language=en-US",e.next=3,c("https://api.themoviedb.org/3/trending/all/day?language=en-US");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=".concat(n),e.next=3,c(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/movie/".concat(n,"?language=en-US"),e.next=3,c(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/movie/".concat(n,"/credits?language=en-US"),e.next=3,c(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/movie/".concat(n,"/reviews?language=en-US&page=1"),e.next=3,c(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},585:function(e,n,t){t.d(n,{n:function(){return r},t:function(){return a}});var r={idle:"idle",pending:"pending",success:"success",error:"error"},a={defaultImg:"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700"}}}]);
//# sourceMappingURL=846.b706635a.chunk.js.map