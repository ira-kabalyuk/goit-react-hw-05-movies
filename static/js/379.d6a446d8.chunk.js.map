{"version":3,"file":"static/js/379.d6a446d8.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.scss?709c","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.scss?5dd0","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx","services/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__Ea3rL\",\"link\":\"MoviesList_link__vtKKb\",\"item\":\"MoviesList_item__gLWPR\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './MoviesList.module.scss';\n\nconst MoviesList = ({list, state=null}) => {\n  return (\n    <ul className={styles.list}>\n      {list?.map((item, index) => \n        <li key={index} className={styles.item}>\n          <Link state={state} to={`/movies/${item.id}`} className={styles.link}>{item.title}</Link>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport { MoviesList };","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__49W6b\",\"button\":\"SearchForm_button__arepV\",\"input\":\"SearchForm_input__7U8V+\"};","import React from 'react';\nimport styles from './SearchForm.module.scss';\n\nconst SearchForm = ({handleSubmit, query}) => {\n  return (\n    <form className={styles.form} onSubmit={handleSubmit} action=\"\">\n      <button className={styles.button} type=\"submit\">&#128269;</button>\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        name=\"search\"\n        className={styles.input}\n        defaultValue={query}\n      />\n    </form>\n  );\n};\n\nexport { SearchForm };","import React, {useState, useEffect} from \"react\";\nimport { useSearchParams, useLocation } from 'react-router-dom';\n\nimport { requestMovies } from 'services/api';\nimport { STATUSES } from 'utils/constants';\n\nimport { Section } from 'components/Section';\nimport { Error } from 'components/Error';\nimport { Loader } from 'components/Loader';\nimport { MoviesList } from 'components/MoviesList';\nimport { SearchForm } from 'components/SearchForm';\n\n\nconst Movies = () => {\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  \n  const [movies, setMovies] = useState(null);\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [error, setError] = useState(null); \n\n  const showMovies = status === STATUSES.success;\n  const showError = status === STATUSES.error;\n  const showLoader = status === STATUSES.pending;\n  const emptyMovies = showMovies && movies?.length === 0;\n\n  const fetchMoviesByQuery = async (query) => {\n    try {\n      setStatus(STATUSES.pending)\n      const newMovies = await requestMovies(query);\n      setMovies(newMovies.results)\n      setStatus(STATUSES.success); \n    } catch (error) {\n      setError(error.message);\n      setStatus(STATUSES.error);\n    }\n  }\n\n  useEffect(() => {\n    if (query === null) {\n      return;\n    }\n    fetchMoviesByQuery(query);\n  }, [query]);\n\n    const handleSubmit = (event) => {\n      event.preventDefault();\n      const searchValue = event.currentTarget.elements.search.value;\n      setSearchParams({ query: searchValue }); \n      setMovies([]);\n  };\n\n  return (\n    <Section>\n      <SearchForm handleSubmit={handleSubmit} query={query}></SearchForm>\n      {showError && <Error>Oops, some error occurred... {error}</Error>}\n      {emptyMovies && <Error>Sorry, no movies found &#129335;</Error>}\n      {showLoader && <Loader />}\n      {showMovies && movies && (\n        <MoviesList list={movies} state={{from: location}}></MoviesList>\n      )}\n    </Section>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\n\nexport const requestData = async (url) => {\n  try {\n    const { data } = await axios.get(url, {\n      headers: {\n        'Authorization': `Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwNzczZmVmMDk2MTUwMjUwYWQzYmI0YTJiYTg3YWE3YiIsInN1YiI6IjYyZDcwYWFhZTE5NGIwMDA1NmI1YjdkMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0jNox1rTYOYjOVBcKh0Pb5udXbOSEAy9qpzL_pb_Jfc`,\n        'accept': 'application/json'\n      }\n    });\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\n\nexport const requestTrending = async () => {\n  const TRENDING_URL = `https://api.themoviedb.org/3/trending/all/day?language=en-US`;  \n\n  return await requestData(TRENDING_URL);\n};\n\nexport const requestMovies = async (searchTerm) => {\n  const MOVIES_URL = `https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=${searchTerm}`; \n\n  return await requestData(MOVIES_URL);\n};\n\nexport const requestDetails = async (detailsId) => {\n  const DETAILS_URL = `https://api.themoviedb.org/3/movie/${detailsId}?language=en-US`; \n\n  return await requestData(DETAILS_URL);\n};\n\nexport const requestCasts = async (detailsId) => {\n  const CASTS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/credits?language=en-US`; \n\n  return await requestData(CASTS_URL);\n};\n\nexport const requestReviews = async (detailsId) => {\n  const REVIEWS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/reviews?language=en-US&page=1`; \n\n  return await requestData(REVIEWS_URL);\n};\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n}\n\nexport const CONSTANTS = {\n  defaultImg: 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700',\n}"],"names":["MoviesList","_ref","list","_ref$state","state","_jsx","className","styles","children","map","item","index","Link","to","concat","id","title","SearchForm","handleSubmit","query","_jsxs","onSubmit","action","type","autoComplete","autoFocus","placeholder","name","defaultValue","location","useLocation","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","get","_useState","useState","_useState2","movies","setMovies","_useState3","STATUSES","_useState4","status","setStatus","_useState5","_useState6","error","setError","showMovies","showError","showLoader","emptyMovies","length","fetchMoviesByQuery","_asyncToGenerator","_regeneratorRuntime","_callee","newMovies","_context","prev","next","requestMovies","sent","results","t0","message","stop","_x","apply","arguments","useEffect","Section","event","preventDefault","searchValue","currentTarget","elements","search","value","Error","Loader","from","requestData","url","_yield$axios$get","data","axios","headers","abrupt","requestTrending","_ref2","_callee2","_context2","_ref3","_callee3","searchTerm","MOVIES_URL","_context3","_x2","requestDetails","_ref4","_callee4","detailsId","DETAILS_URL","_context4","_x3","requestCasts","_ref5","_callee5","CASTS_URL","_context5","_x4","requestReviews","_ref6","_callee6","REVIEWS_URL","_context6","_x5","idle","pending","success","CONSTANTS","defaultImg"],"sourceRoot":""}