{"version":3,"file":"static/js/132.66092bc9.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.scss?57ee","pages/MovieDetails/MovieDetails.jsx","services/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"background\":\"MovieDetails_background__+kCsz\",\"block\":\"MovieDetails_block__2oui2\",\"title\":\"MovieDetails_title__n1pns\",\"poster\":\"MovieDetails_poster__Fyg8Y\",\"image\":\"MovieDetails_image__6PMNe\",\"fontNormal\":\"MovieDetails_fontNormal__6HEJz\",\"text\":\"MovieDetails_text__ZV8Di\",\"genre\":\"MovieDetails_genre__1MO89\",\"list\":\"MovieDetails_list__W1it-\",\"item\":\"MovieDetails_item__6HKO-\",\"link\":\"MovieDetails_link__jKv3y\",\"back\":\"MovieDetails_back__N47VV\",\"arrow\":\"MovieDetails_arrow__ZMWad\"};","import React, {useState, useEffect, useRef, lazy, Suspense} from \"react\";\nimport { Routes, Route, useParams, Link, useLocation } from 'react-router-dom';\n\nimport { requestDetails } from 'services/api';\nimport { STATUSES } from 'utils/constants';\nimport {CONSTANTS} from 'utils/constants';\n\n\nimport { Section } from 'components/Section';\nimport { Error } from 'components/Error';\nimport { Loader } from 'components/Loader';\n\nimport styles from './MovieDetails.module.scss';\n\nconst Cast = lazy(() => import('pages/Cast/Cast'));\nconst Reviews = lazy(() => import('pages/Reviews/Reviews'));\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  const param = useParams();\n  const paramValue = param.id;\n  const [details, setDetails] = useState(null);\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [error, setError] = useState(null);\n\n  const showDetails = status === STATUSES.success;\n  const showError = status === STATUSES.error;\n  const showLoader = status === STATUSES.pending;\n\n    const fetchDetailsByQuery = async (paramValue) => {\n    try {\n      setStatus(STATUSES.pending)\n      const newDetails = await requestDetails(paramValue);\n      setDetails(newDetails)\n      setStatus(STATUSES.success); \n    } catch (error) {\n      setError(error.message);\n      setStatus(STATUSES.error);\n    }\n  }\n\n   useEffect(() => {\n    fetchDetailsByQuery(paramValue);\n   }, [paramValue]);\n  \n  const staticPart = \"https://image.tmdb.org/t/p/w500/\";\n  const posterUrl = `${staticPart}${details?.poster_path}`;  \n\n  const releaseDate = details?.release_date;\n  const year = new Date(releaseDate).getFullYear();\n\n  const rateMumber = details?.popularity / 10;\n  const roundedNumber = Math.round(rateMumber);\n\n\n  return (\n    <div className={styles.background}>\n     <Section>\n      {(!details || showLoader) && <Loader />}\n      {showDetails && details && (\n        <>\n          <Link className={styles.back} to={backLinkRef.current}><span className={styles.arrow}>&#128072;</span> Go back</Link>\n          <div className={styles.block}>\n          <div className={styles.poster}>\n            <img className={styles.image} src={details.poster_path ? posterUrl : CONSTANTS.defaultImg} alt={details.title} />\n          </div>\n          <div>\n            <h1 className={styles.title}>{details.title} <span className={styles.fontNormal}>({year})</span></h1>\n            <p className={styles.text}>User score: <span className={styles.fontNormal}>{roundedNumber}% </span></p>\n            <p className={styles.text}>Overview: <span className={styles.fontNormal}>{details?.overview}</span></p>\n            {details.genres.length > 0 && (\n              <>\n                <span className={styles.text}>Genres:</span>\n                {details.genres.map((genre, index) => (\n                  <span key={index} className={styles.genre}>{genre.name}</span>\n                ))}\n              </>\n            )}\n          </div>\n          </div>\n          <ul className={styles.list}>\n            <li className={styles.item}><Link to='cast' className={styles.link}>Cast</Link></li>\n            <li className={styles.item}><Link to='reviews' className={styles.link}>Reviews</Link></li>\n          </ul>\n            <div>\n              <Suspense fallback = {<Loader />}>\n                <Routes>\n                    <Route path='cast' element={<Cast />}></Route>\n                    <Route path='reviews' element={<Reviews />}></Route>\n                </Routes>\n              </Suspense>\n          </div>\n        </>\n      )}\n      {showError && <Error>Oops, some error occurred... {error}</Error>}\n      </Section>\n      </div> \n  );\n};\n\nexport default MovieDetails;","import axios from 'axios';\n\nexport const requestData = async (url) => {\n  try {\n    const { data } = await axios.get(url, {\n      headers: {\n        'Authorization': `Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwNzczZmVmMDk2MTUwMjUwYWQzYmI0YTJiYTg3YWE3YiIsInN1YiI6IjYyZDcwYWFhZTE5NGIwMDA1NmI1YjdkMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0jNox1rTYOYjOVBcKh0Pb5udXbOSEAy9qpzL_pb_Jfc`,\n        'accept': 'application/json'\n      }\n    });\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\n\nexport const requestTrending = async () => {\n  const TRENDING_URL = `https://api.themoviedb.org/3/trending/all/day?language=en-US`;  \n\n  return await requestData(TRENDING_URL);\n};\n\nexport const requestMovies = async (searchTerm) => {\n  const MOVIES_URL = `https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=${searchTerm}`; \n\n  return await requestData(MOVIES_URL);\n};\n\nexport const requestDetails = async (detailsId) => {\n  const DETAILS_URL = `https://api.themoviedb.org/3/movie/${detailsId}?language=en-US`; \n\n  return await requestData(DETAILS_URL);\n};\n\nexport const requestCasts = async (detailsId) => {\n  const CASTS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/credits?language=en-US`; \n\n  return await requestData(CASTS_URL);\n};\n\nexport const requestReviews = async (detailsId) => {\n  const REVIEWS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/reviews?language=en-US&page=1`; \n\n  return await requestData(REVIEWS_URL);\n};\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n}\n\nexport const CONSTANTS = {\n  defaultImg: 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700',\n}"],"names":["Cast","lazy","Reviews","_location$state$from","_location$state","location","useLocation","backLinkRef","useRef","state","from","paramValue","useParams","id","_useState","useState","_useState2","_slicedToArray","details","setDetails","_useState3","STATUSES","_useState4","status","setStatus","_useState5","_useState6","error","setError","showDetails","showError","showLoader","fetchDetailsByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","newDetails","_context","prev","next","requestDetails","sent","t0","message","stop","_x","apply","arguments","useEffect","posterUrl","concat","poster_path","releaseDate","release_date","year","Date","getFullYear","rateMumber","popularity","roundedNumber","Math","round","_jsx","className","styles","children","_jsxs","Section","Loader","_Fragment","Link","to","current","src","CONSTANTS","alt","title","overview","genres","length","map","genre","index","name","Suspense","fallback","Routes","Route","path","element","Error","requestData","url","_yield$axios$get","data","axios","headers","abrupt","requestTrending","_ref2","_callee2","_context2","requestMovies","_ref3","_callee3","searchTerm","MOVIES_URL","_context3","_x2","_ref4","_callee4","detailsId","DETAILS_URL","_context4","_x3","requestCasts","_ref5","_callee5","CASTS_URL","_context5","_x4","requestReviews","_ref6","_callee6","REVIEWS_URL","_context6","_x5","idle","pending","success","defaultImg"],"sourceRoot":""}