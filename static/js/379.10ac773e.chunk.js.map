{"version":3,"file":"static/js/379.10ac773e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.scss?709c","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.scss?5dd0","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx","services/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__Ea3rL\",\"link\":\"MoviesList_link__vtKKb\",\"item\":\"MoviesList_item__gLWPR\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './MoviesList.module.scss';\n\nconst MoviesList = ({list, state=null}) => {\n  return (\n    <ul className={styles.list}>\n      {list?.map((item, index) => \n        <li key={index} className={styles.item}>\n          <Link state={state} to={`/movies/${item.id}`} className={styles.link}>{item.title}</Link>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport { MoviesList };","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__49W6b\",\"button\":\"SearchForm_button__arepV\",\"input\":\"SearchForm_input__7U8V+\"};","import React from 'react';\nimport styles from './SearchForm.module.scss';\n\nconst SearchForm = ({handleSubmit, query}) => {\n  return (\n    <form className={styles.form} onSubmit={handleSubmit} action=\"\">\n      <button className={styles.button} type=\"submit\">&#128269;</button>\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        name=\"search\"\n        className={styles.input}\n        defaultValue={query}\n      />\n    </form>\n  );\n};\n\nexport { SearchForm };","import React, {useState, useEffect} from \"react\";\nimport { useSearchParams, useLocation } from 'react-router-dom';\n\nimport { requestMovies } from 'services/api';\nimport { STATUSES } from 'utils/constants';\n\nimport { Section } from 'components/Section';\nimport { Error } from 'components/Error';\nimport { Loader } from 'components/Loader';\nimport { MoviesList } from 'components/MoviesList';\nimport { SearchForm } from 'components/SearchForm';\n\n\nconst Movies = () => {\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  \n  const [movies, setMovies] = useState(null);\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [error, setError] = useState(null); \n\n  const showMovies = status === STATUSES.success;\n  const showError = status === STATUSES.error;\n  const showLoader = status === STATUSES.pending;\n  const emptyMovies = showMovies && movies?.length === 0;\n\n  const fetchMoviesByQuery = async (query) => {\n    try {\n      setStatus(STATUSES.pending)\n      const newMovies = await requestMovies(query);   \n      setMovies(newMovies.results)\n      setStatus(STATUSES.success); \n    } catch (error) {\n      setError(error.message);\n      setStatus(STATUSES.error);\n    }\n  }\n\n  useEffect(() => {\n    if (query === null) {\n      return;\n    }\n    fetchMoviesByQuery(query);\n  }, [query]);\n\n    const handleSubmit = (event) => {\n      event.preventDefault();\n      const searchValue = event.currentTarget.elements.search.value;\n      setSearchParams({ query: searchValue }); \n      setMovies([]);\n  };\n\n  return (\n    <Section>\n      <>\n        <SearchForm handleSubmit={handleSubmit} query={query}></SearchForm>\n        {showError && <Error>Oops, some error occurred... {error}</Error>}\n        {emptyMovies && <Error>Sorry, no movies found &#129335;</Error>}\n        {showLoader && <Loader />}\n        {showMovies && movies && (\n          <MoviesList list={movies} state={{from: location}}></MoviesList>\n        )}\n      </>\n    </Section>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\n\nexport const requestData = async (url) => {\n  try {\n    const { data } = await axios.get(url, {\n      headers: {\n        'Authorization': `Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwNzczZmVmMDk2MTUwMjUwYWQzYmI0YTJiYTg3YWE3YiIsInN1YiI6IjYyZDcwYWFhZTE5NGIwMDA1NmI1YjdkMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0jNox1rTYOYjOVBcKh0Pb5udXbOSEAy9qpzL_pb_Jfc`,\n        'accept': 'application/json'\n      }\n    });\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\n\nexport const requestTrending = async () => {\n  const TRENDING_URL = `https://api.themoviedb.org/3/trending/all/day?language=en-US`;  \n\n  return await requestData(TRENDING_URL);\n};\n\nexport const requestMovies = async (searchTerm) => {\n  const MOVIES_URL = `https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=${searchTerm}`; \n\n  return await requestData(MOVIES_URL);\n};\n\nexport const requestDetails = async (detailsId) => {\n  const DETAILS_URL = `https://api.themoviedb.org/3/movie/${detailsId}?language=en-US`; \n\n  return await requestData(DETAILS_URL);\n};\n\nexport const requestCasts = async (detailsId) => {\n  const CASTS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/credits?language=en-US`; \n\n  return await requestData(CASTS_URL);\n};\n\nexport const requestReviews = async (detailsId) => {\n  const REVIEWS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/reviews?language=en-US&page=1`; \n\n  return await requestData(REVIEWS_URL);\n};\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n}\n\nexport const CONSTANTS = {\n  defaultImg: 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700',\n}"],"names":["MoviesList","_ref","list","_ref$state","state","_jsx","className","styles","children","map","item","index","Link","to","concat","id","title","SearchForm","handleSubmit","query","_jsxs","onSubmit","action","type","autoComplete","autoFocus","placeholder","name","defaultValue","location","useLocation","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","get","_useState","useState","_useState2","movies","setMovies","_useState3","STATUSES","_useState4","status","setStatus","_useState5","_useState6","error","setError","showMovies","showError","showLoader","emptyMovies","length","fetchMoviesByQuery","_asyncToGenerator","_regeneratorRuntime","_callee","newMovies","_context","prev","next","requestMovies","sent","results","t0","message","stop","_x","apply","arguments","useEffect","Section","_Fragment","event","preventDefault","searchValue","currentTarget","elements","search","value","Error","Loader","from","requestData","url","_yield$axios$get","data","axios","headers","abrupt","requestTrending","_ref2","_callee2","_context2","_ref3","_callee3","searchTerm","MOVIES_URL","_context3","_x2","requestDetails","_ref4","_callee4","detailsId","DETAILS_URL","_context4","_x3","requestCasts","_ref5","_callee5","CASTS_URL","_context5","_x4","requestReviews","_ref6","_callee6","REVIEWS_URL","_context6","_x5","idle","pending","success","CONSTANTS","defaultImg"],"sourceRoot":""}