{"version":3,"file":"static/js/189.5071a580.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/pages/Home/Home.module.scss?639a","components/pages/Home/Home.jsx","services/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Home_list__l6D7C\",\"link\":\"Home_link__kTtaN\",\"item\":\"Home_item__Z+pW0\",\"title\":\"Home_title__hrl4q\"};","import React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { requestTrending } from '../../../services/api';\n\nimport { STATUSES } from '../../../utils/constants';\n\nimport styles from './Home.module.scss';\nimport { Section } from 'components/Section';\nimport { Error } from 'components/Error';\nimport { Loader } from 'components/Loader';\n\n\nconst Home = () => {\n  const [trending, setTrending] = useState(null);\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [error, setError] = useState(null);\n\n  const showTrending = status === STATUSES.success;\n  const showError = status === STATUSES.error;\n  const showLoader = status === STATUSES.pending;\n\n  const fetchTrendingByQuery = async () => {\n    try {\n      setStatus(STATUSES.pending)\n      const newMovies = await requestTrending();       \n      setTrending(newMovies.results)\n      setStatus(STATUSES.success); \n    } catch (error) {\n      setError(error.message);\n      setStatus(STATUSES.error);\n    }\n  }\n\n  useEffect(() => {\n    fetchTrendingByQuery();\n  }, []);\n\n\n  return (\n    <Section>\n      {showError && <Error>Oops, some error occurred... {error}</Error>}\n      {(!trending || showLoader) && <Loader />}\n      {showTrending && trending && (\n        <>\n        <h1 className={styles.title}>Trending today</h1>\n          <ul className={styles.list}>\n            {trending?.map((item, index) => \n              <li key={index} className={styles.item}>\n                <Link to={`/movies/${item.id}`} className={styles.link}>{item.title}</Link>\n              </li>\n            )}\n          </ul>\n        </>\n      )}\n    </Section>\n  );\n};\n\nexport default Home;","import axios from 'axios';\n\nexport const requestData = async (url) => {\n  try {\n    const { data } = await axios.get(url, {\n      headers: {\n        'Authorization': `Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwNzczZmVmMDk2MTUwMjUwYWQzYmI0YTJiYTg3YWE3YiIsInN1YiI6IjYyZDcwYWFhZTE5NGIwMDA1NmI1YjdkMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0jNox1rTYOYjOVBcKh0Pb5udXbOSEAy9qpzL_pb_Jfc`,\n        'accept': 'application/json'\n      }\n    });\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\n\nexport const requestTrending = async () => {\n  const TRENDING_URL = `https://api.themoviedb.org/3/trending/all/day?language=en-US`;  \n\n  return await requestData(TRENDING_URL);\n};\n\nexport const requestMovies = async (searchTerm) => {\n  const MOVIES_URL = `https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=${searchTerm}`; \n\n  return await requestData(MOVIES_URL);\n};\n\nexport const requestDetails = async (detailsId) => {\n  const DETAILS_URL = `https://api.themoviedb.org/3/movie/${detailsId}?language=en-US`; \n\n  return await requestData(DETAILS_URL);\n};\n\nexport const requestCasts = async (detailsId) => {\n  const CASTS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/credits?language=en-US`; \n\n  return await requestData(CASTS_URL);\n};\n\nexport const requestReviews = async (detailsId) => {\n  const REVIEWS_URL = `https://api.themoviedb.org/3/movie/${detailsId}/reviews?language=en-US&page=1`; \n\n  return await requestData(REVIEWS_URL);\n};\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n}\n\nexport const CONSTANTS = {\n  defaultImg: 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700',\n}"],"names":["_useState","useState","_useState2","_slicedToArray","trending","setTrending","_useState3","STATUSES","_useState4","status","setStatus","_useState5","_useState6","error","setError","showTrending","showError","showLoader","fetchTrendingByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","newMovies","_context","prev","next","requestTrending","sent","results","t0","message","stop","apply","arguments","useEffect","_jsxs","Section","children","Error","_jsx","Loader","_Fragment","className","styles","map","item","index","Link","to","concat","id","title","requestData","url","_yield$axios$get","data","axios","headers","abrupt","_x","_ref2","_callee2","_context2","requestMovies","_ref3","_callee3","searchTerm","MOVIES_URL","_context3","_x2","requestDetails","_ref4","_callee4","detailsId","DETAILS_URL","_context4","_x3","requestCasts","_ref5","_callee5","CASTS_URL","_context5","_x4","requestReviews","_ref6","_callee6","REVIEWS_URL","_context6","_x5","idle","pending","success","CONSTANTS","defaultImg"],"sourceRoot":""}